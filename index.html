<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lời tự sự từ trái tim</title>
    <style>
        body {
            font-family: 'Times New Roman', Times, serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #fce4ec; 
            color: #4a4a4a;
            transition: background-color 2s ease-in-out;
        }

        .container {
            background-color: #ffffff;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            max-width: 650px;
            width: 90%;
            text-align: center;
            border: 3px solid #ff80ab;
        }

        h1 {
            color: #d81b60;
            margin-bottom: 30px;
            font-size: 1.8em;
        }

        #typewriter-text {
            text-align: left;
            white-space: pre-wrap; 
            min-height: 50px;
            font-size: 1.15em;
            line-height: 1.6;
            margin-top: 20px;
            border-left: 3px solid #f06292;
            padding-left: 15px;
        }

        /* Hiệu ứng con trỏ nhấp nháy */
        .typing::after {
            content: '|';
            animation: blink-caret .75s step-end infinite;
            display: inline-block;
            font-weight: bold;
            color: #d81b60;
        }

        @keyframes blink-caret {
            from, to { opacity: 0 }
            50% { opacity: 1; }
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Gửi đến em, người anh yêu 💕</h1>
        
        <p id="typewriter-text"></p>
        
        <audio id="background-music" loop>
            <source src="music1709.mp3" type="audio/mp3">
            Trình duyệt của em không hỗ trợ phát nhạc.
        </audio>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const textElement = document.getElementById('typewriter-text');
            const music = document.getElementById('background-music');

            // Tốc độ gõ chữ: 50ms
            const TYPING_SPEED = 50; 
            let index = 0;
            
            const fullText = "Anh chờ em ngủ anh mới dám nói, anh nói xong anh biết chắc là sáng mai em chỉ trả lời một cái sticker rồi xong, nhưng mong là em sẽ đọc hết đoạn tin nhắn này của anh, xem xong em không trả lời cũng được. Nhưng mà chỉ mong em sẽ phần nào hiểu cho anh hơn, anh cũng chỉ là thằng trãi qua đau khổ đi tìm hạnh phúc thôi, tự hỏi nếu như một ngày anh thử im lặng thì trong khoảng lặng đó em có chút nào bận tâm hay suy nghĩ nhắn cho anh hay không, không phải anh bắt em phải chủ động nhắn cho anh nhưng mà chỉ cần một câu hỏi han anh thôi cũng được rồi. Anh là một đứa hay suy nghĩ nhiều chắc em cũng biết, tình yêu mà đâu phải lúc nào rãnh mới nhắn tin cho nhau đâu, hạnh phúc của anh đơn giản chỉ từ những lời quan tâm nhỏ nhặt thôi. Anh biết em cũng chỉ là chập chửng tập yêu nên anh cũng muốn nói ra để em hiểu anh hơn, yêu em không biết cất đâu cho hết nhưng anh cũng cần sự cảm thông thấu hiểu từ em như cách anh cũng đang mỗi ngày tìm hiểu, cảm thông, thấu hiểu cho em. Anh đã coi em là tất cả, là tương lai của anh nên anh không muốn vì một khoảnh khắc tồi tệ mà bỏ lỡ nhau. Nếu em đọc đến đây thì em cũng phần nào hiểu rồi, anh không muốn em bé của anh vì anh mà phải buồn vì điều gì hết, anh cũng chỉ muốn mỗi khi anh vô tình làm em buồn thì em sẽ cùng anh ngồi lại nói rõ mọi chuyện, và tất nhiên trước đó chắc chắn anh sẽ tự biết lỗi của mình. Cảm ơn đã đọc đến đây. Yêu em nhiều lắm💕";
            
            function typeWriter() {
                if (index < fullText.length) {
                    textElement.innerHTML += fullText.charAt(index);
                    index++;
                    // Lặp lại hàm sau TYPING_SPEED ms
                    setTimeout(typeWriter, TYPING_SPEED);
                } else {
                    // KẾT THÚC
                    music.pause();
                    music.currentTime = 0; 
                    textElement.classList.remove('typing'); 
                }
            }

            // --- BẮT ĐẦU TỰ ĐỘNG ---
            
            // 1. Cố gắng phát nhạc tự động
            // LƯU Ý: Đây là phần có thể bị chặn bởi trình duyệt.
            music.play().catch(e => {
                console.warn("Trình duyệt đã chặn tính năng Autoplay. Vui lòng cấp quyền cho trang web để nhạc phát tự động.");
            }); 
            
            // 2. Bắt đầu hiệu ứng đánh máy
            textElement.classList.add('typing'); 
            typeWriter();
            
            // ------------------------
        });
    </script>
</body>
</html>
